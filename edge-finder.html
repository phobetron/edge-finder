<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Image Edge Finder</title>
    <script src="javascripts/jquery-1.3.2.min.js" type="text/javascript"></script>
    <script src="javascripts/edge-finder.js" type="text/javascript"></script>
    <script type="text/javascript">
      $(window).ready(function() {
        var $canvas = $("#bare-tree");
        var $tree = $("#bare-tree img");
        $tree.load(function() {
          var edges = $tree.edgeFinder({
                        exclude: [[{ x: 0, y: 0 }, { x: 414, y: 10 }], [{ x: 0, y: 375 }, { x: 414, y: 529 }],
                                  [{ x: 0, y: 0 }, { x: 10, y: 529 }], [{ x: 404, y: 0 }, { x: 414, y: 529 }]]
                      })[0];

          var c = $canvas[0].getContext("2d");
          c.drawImage($tree[0], 0, 0, 414, 529);

          $.each(edges, function(i, point) {
            c.fillStyle = "rgb(204,0,0)";
            c.fillRect(point.x, point.y, 1, 1);
          });
        });
      });
    </script>
  </head>
  <body>
    <canvas id="bare-tree" width="414" height="529">
      <img src="images/bare-tree.png" width="414" height="529" />
    </canvas>
  </body>
</html>
